#pragma checksum "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7a7ada6db68f68a75ddb9c816772c036b02a50e6"
// <auto-generated/>
#pragma warning disable 1591
namespace DoAnTotNghiep.Shared
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using DoAnTotNghiep;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using DoAnTotNghiep.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using AntDesign;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\_Imports.razor"
using DoAnTotNghiep.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
using System.Security.Claims;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
using System.Threading;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
using AutoMapper;

#line default
#line hidden
#nullable disable
    public partial class MainLayout : LayoutComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "page");
            __builder.AddAttribute(2, "b-wfoac75yhr");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "sidebar");
            __builder.AddAttribute(5, "b-wfoac75yhr");
            __builder.OpenComponent<DoAnTotNghiep.Shared.NavMenu>(6);
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(7, "\r\n\r\n    ");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "main");
            __builder.AddAttribute(10, "b-wfoac75yhr");
            __builder.AddMarkupContent(11, "<div class=\"top-row px-4\" b-wfoac75yhr><a href=\"https://docs.microsoft.com/aspnet/\" target=\"_blank\" b-wfoac75yhr>About</a></div>\r\n\r\n        ");
            __builder.OpenElement(12, "div");
            __builder.AddAttribute(13, "class", "content px-4");
            __builder.AddAttribute(14, "b-wfoac75yhr");
            __builder.AddContent(15, 
#nullable restore
#line 24 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
             Body

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 30 "C:\Users\Admin\Documents\VADoAnTotNghiep\DoAnTotNghiep\Shared\MainLayout.razor"
 

    protected async override Task OnInitializedAsync()
    {
        //try
        //{
        //    Service.WindowSizeChanged += e => WindowSizeChanged(e);
        //    uri = NavigationManager.BaseUri + "dang-nhap";
        //    changePasswordModel = new ChangePasswordModel();
        //    var user = (await authenticationStateTask).User;
        //    if (user == null || !user.Identity.IsAuthenticated)
        //    {
        //        NavigationManager.NavigateTo(uri);
        //    }
        //    if (sessionData.User == null)
        //    {
        //        await LoadUserInfoAsync(user.Identity.Name);
        //    }
        //    Uri uriObject = new Uri(uri);
        //    string subdomain = uriObject.Host.Split('.')[0];
        //    IPAddress ipAddress = null;
        //    bool isValidIp = System.Net.IPAddress.TryParse(uriObject.Host, out ipAddress);
        //    if (subdomain != "test" && subdomain != "app" && subdomain != "localhost" && !isValidIp)
        //    {
        //        Logo = "/image/" + subdomain + "/logoCustomerIndex.png";
        //        Background = "/image/" + subdomain + "/backgroundCustomer.jpg";
        //    }
        //}
        //catch (Exception ex)
        //{
        //    Error.ProcessError(ex);
        //}
    }

    //public string GetLayoutStyle()
    //{
    //    return $"background-image: url('{Background}');";
    //}

    //protected override async Task OnAfterRenderAsync(bool firstRender)
    //{
    //    if (firstRender)
    //    {
    //        WindowSizeChanged(await Service.GetDimensions());
    //        browserServiceRef = DotNetObjectReference.Create<BrowserService>(Service);
    //        await Service.BindBrowserDimensionChange(browserServiceRef);
    //    }
    //}

    //async Task LoadUserInfoAsync(string userName)
    //{
    //    sessionData.User = await UserService.GetByUserNameAsync(new AppUserSearch { UserName = userName });
    //    if (sessionData.User == null || !sessionData.User.IsActive || sessionData.User.CompanyId.IsNullOrEmpty())
    //    {
    //        NavigationManager.NavigateTo(uri);
    //    }
    //    else
    //    {
    //        Error.SessionData = sessionData;
    //        sessionData.CompanyInfo = await CompanyInfoService.GetAsync(sessionData.User.CompanyId);
    //        var staffResult = await StaffProfileService.GetStaffByUserNameAsync(new SearchStaffCondition()
    //        {
    //            CompanyId = sessionData.User.CompanyId,
    //            UserName = sessionData.User.UserName
    //        });
    //        if (staffResult.Data?.Id.IsNotNullOrEmpty() == true)
    //        {
    //            sessionData.StaffProfile = staffResult.Data;
    //        }
    //    }
    //}

    //void OpenChangePasswordForm()
    //{
    //    changePasswordModel = new() { UserName = sessionData.User.UserName, Id = sessionData.User.Id };
    //    changePasswordVisible = true;
    //}

    //async Task OnPasswordChangedAsync(ChangePasswordModel model)
    //{
    //    changePasswordVisible = false;
    //    try
    //    {
    //        var result = await UserService.ChangePasswordAsync(model.Id, model.OldPassword, model.Password);
    //        if (result.State)
    //        {
    //            CloseChangePassword();
    //            Notice.NotiSuccess(AlertResource.ChangePasswordSuccessful);
    //        }
    //        else
    //        {
    //            Notice.NotiError(AlertResource.ChangePasswordFailed);
    //        }
    //    }
    //    catch (Exception ex)
    //    {
    //        Error.ProcessError(ex);
    //    }


    //}

    //void CloseChangePassword()
    //{
    //    changePasswordVisible = false;
    //}

    //async Task OpenDetailAsync()
    //{
    //    try
    //    {
    //        await appUserDetail.LoadEditModelAsync(sessionData.User);
    //        appUserDetail.DisableField();
    //        DetailVisible = true;
    //    }
    //    catch (Exception ex)
    //    {
    //        Error.ProcessError(ex);
    //    }
    //}

    //async Task SaveDetailAsync(AppUserEditModel model)
    //{
    //    try
    //    {
    //        if (model.Id.IsNullOrEmpty())
    //        {
    //            Notice.NotiWarning("Dữ liệu không hợp lệ");
    //            return;
    //        }
    //        var updateModel = Mapper.Map<AppUserData>(model);
    //        var result = await UserService.UpdateAsync(updateModel);
    //        if (result.State)
    //        {
    //            CloseDetail();
    //            Notice.NotiSuccess(AlertResource.UpdateSuccessful);
    //            await LoadUserInfoAsync(model.UserName);
    //        }
    //        else
    //        {
    //            Notice.NotiError(AlertResource.InvalidData);
    //        }

    //    }
    //    catch (Exception ex)
    //    {
    //        Error.ProcessError(ex);
    //    }
    //}

    //void CloseDetail()
    //{
    //    try
    //    {
    //        DetailVisible = false;
    //    }
    //    catch (Exception ex)
    //    {
    //        Error.ProcessError(ex);
    //    }
    //}

    //async Task OpenNewTab(MouseEventArgs e, string url = "")
    //{
    //    if (e.Button == 2)
    //    {
    //        await JSRuntime.InvokeVoidAsync("open", CancellationToken.None, url, "_blank");
    //    }
    //}

    //void WindowSizeChanged(BrowserDimension dimension)
    //{
    //    sessionData.BrowserDimension = dimension;
    //    StateHasChanged();
    //}

    //async Task OpenICareAsync()
    //{
    //    try
    //    {

    //        var request = new RestRequest("/api/User/get-token").AddJsonBody(new { UserName = sessionData.User.UserName, Password = sessionData.User.UserName });
    //        request.Method = Method.Post;
    //        request.Timeout = 15;
    //        request.AddHeader("ApiKey", Configuration[GlobalVariants.HrmApiKey]);
    //        var data = await RestClient.ExecuteAsync<ExcuteResult<string>>(request);
    //        if (data.Data?.Code == ResultCode.SuccessResult)
    //        {
    //            icareInited = true;
    //            tokenAuth = data.Data.Result?.ToString();
    //            string url = string.Format(Configuration[GlobalVariants.ICareUrl], tokenAuth);
    //            await JSRuntime.InvokeVoidAsync("open", CancellationToken.None, url, "_blank");
    //        }
    //        else
    //        {
    //            Notice.NotiError("Tài khoản chưa được cấu hình sử dụng dịch vụ ICare");
    //            return;
    //        }

    //    }
    //    catch (Exception)
    //    {
    //    }
    //}


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IConfiguration Configuration { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IMapper Mapper { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NotificationService Notice { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
    }
}
#pragma warning restore 1591
